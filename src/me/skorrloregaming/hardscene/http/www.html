<!-- Code developed by SkorrloreGaming-Productions -->
<html>
	<head>
		<title>HardScene</title>
		<style>
			pre {
				white-space: pre-wrap;
				white-space: -moz-pre-wrap;
				white-space: -pre-wrap;
				white-space: -o-pre-wrap;
				word-wrap: break-word;
			}
			.centered {
				position: fixed;
				top: 50%;
				left: 50%;
			}
			iframe {
				width: 750px;
				height: 450px;
				border: 1px solid black;
			}
			body {
				background-color: white;
		    	-webkit-background-size: cover;
		    	-moz-background-size: cover;
		    	-o-background-size: cover;
		    	background-size: cover;
		    }
			a {
				text-decoration: none;
				color: blue;
			}
			a:hover {
				color: brown;
			}
		</style>
		<script>
var playSound = (function beep() {
    var snd = new Audio("data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=");  
    return function() {     
        snd.play(); 
    }
})();
function isMobile(ph) { 
 if( navigator.userAgent.match(/Android/i)
 || navigator.userAgent.match(/webOS/i)
 || navigator.userAgent.match(/iPhone/i)
 || navigator.userAgent.match(/iPad/i)
 || navigator.userAgent.match(/iPod/i)
 || navigator.userAgent.match(/BlackBerry/i)
 || navigator.userAgent.match(/Windows Phone/i)
 ){
    return true;
  }
 else {
    return false;
  }
}
(function () {

    'use strict';

    var currId = 0,
        obfuscators = {},
        alreadyParsed = [],
        styleMap = {
            '\xa70': 'color:#000000',
            '\xa71': 'color:#0000AA',
            '\xa72': 'color:#00AA00',
            '\xa73': 'color:#00AAAA',
            '\xa74': 'color:#AA0000',
            '\xa75': 'color:#AA00AA',
            '\xa76': 'color:#FFAA00',
            '\xa77': 'color:#AAAAAA',
            '\xa78': 'color:#555555',
            '\xa79': 'color:#5555FF',
            '\xa7a': 'color:#55FF55',
            '\xa7b': 'color:#55FFFF',
            '\xa7c': 'color:#FF5555',
            '\xa7d': 'color:#FF55FF',
            '\xa7e': 'color:#FFFF55',
            '\xa7f': 'color:#FFFFFF',
            '\xa7l': 'font-weight:bold',
            '\xa7m': 'text-decoration:line-through',
            '\xa7n': 'text-decoration:underline',
            '\xa7o': 'font-style:italic'
        };

    function obfuscate(elem, string) {
        var multiMagic,
            currNode,
            listLen,
            nodeI;

        function randInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function replaceRand(string, i) {
            var randChar = String.fromCharCode(randInt(64, 95));
            return string.substr(0, i) + randChar + string.substr(i + 1, string.length);
        }

        function initMagic(el, str) {
            var i = 0,
                obsStr = str || el.innerHTML,
                strLen = obsStr.length;
            if(!strLen) return;
            obfuscators[currId].push(
                window.setInterval(function () {
                    if (i >= strLen) i = 0;
                    obsStr = replaceRand(obsStr, i);
                    el.innerHTML = obsStr;
                    i++;
                }, 0)
            );
        }

        if (string.indexOf('<br>') > -1) {
            elem.innerHTML = string;
            listLen = elem.childNodes.length;
            for (nodeI = 0; nodeI < listLen; nodeI++) {
                currNode = elem.childNodes[nodeI];
                if (currNode.nodeType === 3) {
                    multiMagic = document.createElement('span');
                    multiMagic.innerHTML = currNode.nodeValue;
                    elem.replaceChild(multiMagic, currNode);
                    initMagic(multiMagic);
                }
            }
        } else {
            initMagic(elem, string);
        }
    }

    function applyCode(string, codes) {
        var elem = document.createElement('span'),
            obfuscated = false;

        string = string.replace(/\x00/g, '');

        codes.forEach(function (code) {
            elem.style.cssText += styleMap[code] + ';';
            if (code === '\xa7k') {
                obfuscate(elem, string);
                obfuscated = true;
            }
        });

        if (!obfuscated) elem.innerHTML = string;

        return elem;
    }

    function parseStyle(string) {
        var finalPre = document.createElement('pre'),
            codes = string.match(/\xa7.{1}/g) || [],
            codesLen = codes.length,
            indexes = [],
            indexDelta,
            apply = [],
            strSlice,
            i;

        if (!obfuscators[currId]) obfuscators[currId] = [];

        string = string.replace(/\n|\\n/g, '<br>');

        for (i = 0; i < codesLen; i++) {
            indexes.push(string.indexOf(codes[i]));
            string = string.replace(codes[i], '\x00\x00');
        }

        if (indexes[0] !== 0) {
            finalPre.appendChild(applyCode(string.substring(0, indexes[0]), []));
        }

        for (i = 0; i < codesLen; i++) {
            indexDelta = indexes[i + 1] - indexes[i];
            if (indexDelta === 2) {
                while (indexDelta === 2) {
                    apply.push(codes[i]);
                    i++;
                    indexDelta = indexes[i + 1] - indexes[i];
                }
                apply.push(codes[i]);
            } else {
                apply.push(codes[i]);
            }
            if (apply.lastIndexOf('\xa7r') > -1) {
                apply = apply.slice(apply.lastIndexOf('\xa7r') + 1);
            }
            strSlice = string.substring(indexes[i], indexes[i + 1]);
            finalPre.appendChild(applyCode(strSlice, apply));
        }

        return finalPre;
    }

    function clearObfuscators(id) {
        obfuscators[id].forEach(function (interval) {
            clearInterval(interval);
        });
        alreadyParsed[id] = [];
        obfuscators[id] = [];
    }

    window.mineParse = function initParser(input) {
        var parsed,
            i = currId;
        if (i > 0) {
            while (i--) {
                if (alreadyParsed[i].nodeType) {
                    if (!document.contains(alreadyParsed[i])) {
                        clearObfuscators(i);
                    }
                }
            }
        }
        parsed = parseStyle(input);
        alreadyParsed.push(parsed);
        currId++;
        return {
            parsed: parsed,
            raw: parsed.innerHTML
        };
    };

}());
			var socket = null;
			var fade = function(element) {
				var op = 1;
				var timer = setInterval(function () {
					if (op <= 0.1){
						clearInterval(timer);
						element.style.display = 'none';
					}
					element.style.opacity = op;
					element.style.filter = 'alpha(opacity=' + op * 100 + ")";
					op -= op * 0.1;
				}, 50);
			}
			var unfade = function(element) {
			    var op = 0.1;
			    element.style.display = 'block';
			    var timer = setInterval(function () {
			   		if (op >= 1){
			    		clearInterval(timer);
			    	}
			    	selement.style.opacity = op;
			    	element.style.filter = 'alpha(opacity=' + op * 100 + ")";
			    	op += op * 0.1;
			    }, 10);
			}
			function linkify(inputText) {
				var output, regex1, regex2, regex3;
				regex1 = /(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim;
				output = inputText.replace(regex1, '<a href="$1" target="_blank">$1</a>');
				regex2 = /(^|[^\/])(www\.[\S]+(\b|$))/gim;
				output = output.replace(regex2, '$1<a href="http://$2" target="_blank">$2</a>');
				regex3 = /(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim;
				output = output.replace(regex3, '<a href="mailto:$1">$1</a>');
				return output;
			}
			var connect = function() {
				socket = new WebSocket('ws://' + location.host + '/websocket');
				socket.onopen = function(event) {
					var message = document.createElement('pre');
					message.innerHTML = 'Connected.<br/>';
					document.getElementById('messageHistory').appendChild(message);
					setTimeout(function() { socket.send(name + '~!' + token); }, 200);
				};
				socket.onmessage = function(event) {
					var rex = /(<([^>]+)>)/ig;
					var rawMessage = linkify(event.data.replace(rex, ""));
					var result = mineParse(rawMessage);
                    document.getElementById('messageHistory').appendChild(result.parsed);
                    runTranslationFeatures(rawMessage);
                    if (!isMobile('') && !document.hasFocus()) playSound();
                    scrollDown(shouldScroll());
				};
				socket.onclose = function(event) {
					setTimeout(function() { window.location = window.location.href; }, 1000);
				};
			}
			var load = function() {
				if (typeof name !== 'undefined' && typeof token !== 'undefined') {
					var letterNumber = /^[0-9a-zA-Z]+$/;
					if (name.length > 2 && name.length < 17) {
						if (name.split("_").join("").match(letterNumber)) {
							document.body.style.backgroundColor = "white";
							document.body.style.margin = '0';
							document.getElementById('loginPanel').style.display = 'none';
							document.getElementById('perform').style.display = 'block';
							connect();
							return;
						}
						alert('Invalid display name syntax, please try again.');
						return;
					}
					alert('Please specify a name with a length between 4 and 16.');
				}
			}
			var keypress = function(event) {
				var key = event.which || event.keyCode;
				document.body.scrollTop = document.body.scrollHeight - document.body.clientHeight;
				if (key == 27) {
					document.getElementById('messageBox').value = '';
					return false;
				}
				if (key == 13) {
					var message = document.getElementById('messageBox').value;
					if (message.length > 256) {
						message = message.substring(0, 256);
					}
				   	if (message.length > 0) {
				   		socket.send(message);
						document.getElementById('messageBox').value = '';
				   	}
				   	return false;
				}
			}
function testImage(url, timeoutT) {
	return new Promise(function(resolve, reject) {
			var timeout = timeoutT || 5000;
			var timer, img = new Image();
			    img.onerror = img.onabort = function() {
			    	clearTimeout(timer);
			    	reject("error");
				};
			img.onload = function() {
				clearTimeout(timer);
				resolve("success");
			};
			timer = setTimeout(function() {
				img.src = "//!!!!/noexist.jpg";
				reject("timeout");
			}, timeout);
			img.src = url;
    });
}

function record(url, result) {
	if (result.indexOf("success") !== -1) {
		var linkObj = document.createElement('a');
		linkObj.href = url;
		linkObj.target = '_blank';
		linkObj.innerHTML = "<img src=\"" + url +"\" style=\"border-radius: 5px; border: 1px solid black; width=\"432\" height=\"243\"\"></img>";
		var take = shouldScroll();
		document.getElementById('messageHistory').appendChild(linkObj);
		scrollDown(take);
	}
}

function runImage(url) {
	testImage(url).then(record.bind(null, url), record.bind(null, url));
}

function embedYoutubeUrl(url) {
	var p = /^(?:https?:\/\/)?(?:m\.|www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
	if(url.match(p)){
    	var code = url.match(p)[1];
    	var embedUrl = "https://www.youtube.com/embed/" + code;
    	var embed = document.createElement('div');
    	embed.innerHTML = "<iframe style=\"width: 432px; height: 243px; border-radius: 5px; border: 1px solid black;\" src=\"" + embedUrl + "\" frameborder=\"0\" allowfullscreen></iframe>";
    	var take = shouldScroll();
    	document.getElementById('messageHistory').appendChild(embed);
    	scrollDown(take);
    	return true;
    }
    return false;
}
function shouldScroll() {
	var isNearBottom = false;
	if ((window.innerHeight + window.pageYOffset) >= document.body.offsetHeight - 100) isNearBottom = true;
	return isNearBottom;
}
function scrollDown(take) {
	if (take && !isMobile('')) document.body.scrollTop = document.body.scrollHeight;
	return true;
}
function runTranslationFeatures(rawMessage) {
	var fields = rawMessage.split('href="');
	for (part of fields) {
		var url = part.substring(0, part.indexOf("\""));
		embedYoutubeUrl(url);
		runImage(url);
	}
}
		</script>
	</head>
	<body onload="load();">
		<div id="loginPanel" name="loginPanel">
			<center>
			<div class="centered" style="height: 400px; width: 450px; border-radius: 5px; background-color: white; margin-top: -200px; margin-left: -225px;" id="subLoginPanel" name="subLoginPanel">
				<br/><br/>
				<h2>HardScene-Client</h2><br/>
				<form method="post" action="">
				<p><input style="width: 200px; border-radius: 5px;" type="text" id="name" name="name" value="" placeholder="Display Name"></p>
				<p><input style="width: 200px; border-radius: 5px;" type="password" id="name" name="token" value="" placeholder="Auth Token"></p>
				<p class="submit"><input style="width: 200px; height: 30px;" type="submit" name="commit" value="Login"></p>
				</form>
				<br/>
				<p>Developed by <a href="https://github.com/Speentie8081" target="_blank">SkorrloreGaming (Speentie)</a></p>
			</div>
			</center>
		</div>
		<div id="perform" name="perform" style="display: none;">
			<div style="background-color: white; padding-left: 5px; padding-right: 5px; padding-top: 5px; padding-bottom: 5px;" id="connection" name="connection">
				<center style="padding-top: 15px;">
					<a href="/">Disconnect</a> / <a href="#" onclick="document.getElementById('messageHistory').innerHTML = ''; return false;">Clear History</a>
				</center>
				<div id="messageHistory" name="messageHistory" style="width: 95%; padding-left: 10px; word-wrap: normal; overflow: hidden; padding-right: 10px; padding-top: 5px; padding-bottom: 5px;">
					<pre>Connecting..</pre>
				</div>
				<div id="controls" name="controls">
					<center>
						<form action="return javascript.void(0);" autocomplete="off">
							<input style="width: 95%; border-radius: 5px;" type="text" id="messageBox" name="messageBox" onkeydown="return keypress(event);">
						</form>
					</center>
				</div>
			</div>
		</div>
	</body>
</html>