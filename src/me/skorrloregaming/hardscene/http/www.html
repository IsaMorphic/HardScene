<!-- Code developed by SkorrloreGaming-Productions -->
<html>
	<head>
		<title>HardScene</title>
		<style>
			pre {
				white-space: pre-wrap;
				white-space: -moz-pre-wrap;
				white-space: -pre-wrap;
				white-space: -o-pre-wrap;
				word-wrap: break-word;
			}
			.centered {
				position: fixed;
				top: 50%;
				left: 50%;
			}
			iframe {
				width: 750px;
				height: 450px;
				border: 1px solid black;
			}
			body {
				background-color: white;
		    	-webkit-background-size: cover;
		    	-moz-background-size: cover;
		    	-o-background-size: cover;
		    	background-size: cover;
		    }
			a {
				text-decoration: none;
				color: blue;
			}
			a:hover {
				color: brown;
			}
		</style>
		<script>
(function () {

    'use strict';

    var currId = 0,
        obfuscators = {},
        alreadyParsed = [],
        styleMap = {
            '\xa70': 'color:#000000',
            '\xa71': 'color:#0000AA',
            '\xa72': 'color:#00AA00',
            '\xa73': 'color:#00AAAA',
            '\xa74': 'color:#AA0000',
            '\xa75': 'color:#AA00AA',
            '\xa76': 'color:#FFAA00',
            '\xa77': 'color:#AAAAAA',
            '\xa78': 'color:#555555',
            '\xa79': 'color:#5555FF',
            '\xa7a': 'color:#55FF55',
            '\xa7b': 'color:#55FFFF',
            '\xa7c': 'color:#FF5555',
            '\xa7d': 'color:#FF55FF',
            '\xa7e': 'color:#FFFF55',
            '\xa7f': 'color:#FFFFFF',
            '\xa7l': 'font-weight:bold',
            '\xa7m': 'text-decoration:line-through',
            '\xa7n': 'text-decoration:underline',
            '\xa7o': 'font-style:italic'
        };

    function obfuscate(elem, string) {
        var multiMagic,
            currNode,
            listLen,
            nodeI;

        function randInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function replaceRand(string, i) {
            var randChar = String.fromCharCode(randInt(64, 95));
            return string.substr(0, i) + randChar + string.substr(i + 1, string.length);
        }

        function initMagic(el, str) {
            var i = 0,
                obsStr = str || el.innerHTML,
                strLen = obsStr.length;
            if(!strLen) return;
            obfuscators[currId].push(
                window.setInterval(function () {
                    if (i >= strLen) i = 0;
                    obsStr = replaceRand(obsStr, i);
                    el.innerHTML = obsStr;
                    i++;
                }, 0)
            );
        }

        if (string.indexOf('<br>') > -1) {
            elem.innerHTML = string;
            listLen = elem.childNodes.length;
            for (nodeI = 0; nodeI < listLen; nodeI++) {
                currNode = elem.childNodes[nodeI];
                if (currNode.nodeType === 3) {
                    multiMagic = document.createElement('span');
                    multiMagic.innerHTML = currNode.nodeValue;
                    elem.replaceChild(multiMagic, currNode);
                    initMagic(multiMagic);
                }
            }
        } else {
            initMagic(elem, string);
        }
    }

    function applyCode(string, codes) {
        var elem = document.createElement('span'),
            obfuscated = false;

        string = string.replace(/\x00/g, '');

        codes.forEach(function (code) {
            elem.style.cssText += styleMap[code] + ';';
            if (code === '\xa7k') {
                obfuscate(elem, string);
                obfuscated = true;
            }
        });

        if (!obfuscated) elem.innerHTML = string;

        return elem;
    }

    function parseStyle(string) {
        var finalPre = document.createElement('pre'),
            codes = string.match(/\xa7.{1}/g) || [],
            codesLen = codes.length,
            indexes = [],
            indexDelta,
            apply = [],
            strSlice,
            i;

        if (!obfuscators[currId]) obfuscators[currId] = [];

        string = string.replace(/\n|\\n/g, '<br>');

        for (i = 0; i < codesLen; i++) {
            indexes.push(string.indexOf(codes[i]));
            string = string.replace(codes[i], '\x00\x00');
        }

        if (indexes[0] !== 0) {
            finalPre.appendChild(applyCode(string.substring(0, indexes[0]), []));
        }

        for (i = 0; i < codesLen; i++) {
            indexDelta = indexes[i + 1] - indexes[i];
            if (indexDelta === 2) {
                while (indexDelta === 2) {
                    apply.push(codes[i]);
                    i++;
                    indexDelta = indexes[i + 1] - indexes[i];
                }
                apply.push(codes[i]);
            } else {
                apply.push(codes[i]);
            }
            if (apply.lastIndexOf('\xa7r') > -1) {
                apply = apply.slice(apply.lastIndexOf('\xa7r') + 1);
            }
            strSlice = string.substring(indexes[i], indexes[i + 1]);
            finalPre.appendChild(applyCode(strSlice, apply));
        }

        return finalPre;
    }

    function clearObfuscators(id) {
        obfuscators[id].forEach(function (interval) {
            clearInterval(interval);
        });
        alreadyParsed[id] = [];
        obfuscators[id] = [];
    }

    window.mineParse = function initParser(input) {
        var parsed,
            i = currId;
        if (i > 0) {
            while (i--) {
                if (alreadyParsed[i].nodeType) {
                    if (!document.contains(alreadyParsed[i])) {
                        clearObfuscators(i);
                    }
                }
            }
        }
        parsed = parseStyle(input);
        alreadyParsed.push(parsed);
        currId++;
        return {
            parsed: parsed,
            raw: parsed.innerHTML
        };
    };

}());
			var socket = null;
			var fade = function(element) {
				var op = 1;
				var timer = setInterval(function () {
					if (op <= 0.1){
						clearInterval(timer);
						element.style.display = 'none';
					}
					element.style.opacity = op;
					element.style.filter = 'alpha(opacity=' + op * 100 + ")";
					op -= op * 0.1;
				}, 50);
			}
			var unfade = function(element) {
			    var op = 0.1;
			    element.style.display = 'block';
			    var timer = setInterval(function () {
			   		if (op >= 1){
			    		clearInterval(timer);
			    	}
			    	selement.style.opacity = op;
			    	element.style.filter = 'alpha(opacity=' + op * 100 + ")";
			    	op += op * 0.1;
			    }, 10);
			}
			function linkify(inputText) {
				var output, regex1, regex2, regex3;
				regex1 = /(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim;
				output = inputText.replace(regex1, '<a href="$1" target="_blank">$1</a>');
				regex2 = /(^|[^\/])(www\.[\S]+(\b|$))/gim;
				output = output.replace(regex2, '$1<a href="http://$2" target="_blank">$2</a>');
				regex3 = /(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim;
				output = output.replace(regex3, '<a href="mailto:$1">$1</a>');
				return output;
			}
			var connect = function() {
				socket = new WebSocket('ws://' + location.host + '/websocket');
				socket.onopen = function(event) {
					var message = document.createElement('pre');
					message.innerHTML = 'Connected.<br/>';
					document.getElementById('messageHistory').appendChild(message);
					setTimeout(function() { socket.send(name + '~!' + token); }, 200);
				};
				socket.onmessage = function(event) {
					var isNearBottom = false;
					if ((window.innerHeight + window.pageYOffset) >= document.body.offsetHeight - 100) isNearBottom = true;
					var rex = /(<([^>]+)>)/ig;
					var result = mineParse(linkify(event.data.replace(rex, "")));
                    document.getElementById('messageHistory').appendChild(result.parsed);
					if (isNearBottom) document.body.scrollTop = document.body.scrollHeight - document.body.clientHeight;
				};
				socket.onclose = function(event) {
					setTimeout(function() { window.location = window.location.href; }, 1000);
				};
			}
			var load = function() {
				if (typeof name !== 'undefined' && typeof token !== 'undefined') {
					var letterNumber = /^[0-9a-zA-Z]+$/;
					if (name.length > 2 && name.length < 17) {
						if (name.split("_").join("").match(letterNumber)) {
							document.body.style.backgroundColor = "white";
							document.body.style.margin = '0';
							document.getElementById('loginPanel').style.display = 'none';
							document.getElementById('perform').style.display = 'block';
							connect();
							return;
						}
						alert('Invalid display name syntax, please try again.');
						return;
					}
					alert('Please specify a name with a length between 4 and 16.');
				}
			}
			var keypress = function(event) {
				var key = event.which || event.keyCode;
				document.body.scrollTop = document.body.scrollHeight - document.body.clientHeight;
				if (key == 27) {
					document.getElementById('messageBox').value = '';
					return false;
				}
				if (key == 13) {
					var message = document.getElementById('messageBox').value;
					if (message.length > 256) {
						message = message.substring(0, 256);
					}
				   	if (message.length > 0) {
				   		socket.send(message);
						document.getElementById('messageBox').value = '';
				   	}
				   	return false;
				}
			}
		</script>
	</head>
	<body onload="load();">
		<div id="loginPanel" name="loginPanel">
			<center>
			<div class="centered" style="height: 400px; width: 450px; border-radius: 5px; background-color: white; margin-top: -200px; margin-left: -225px;" id="subLoginPanel" name="subLoginPanel">
				<br/><br/>
				<h2>HardScene-Client</h2><br/>
				<form method="post" action="">
				<p><input style="width: 200px; border-radius: 5px;" type="text" id="name" name="name" value="" placeholder="Display Name"></p>
				<p><input style="width: 200px; border-radius: 5px;" type="password" id="name" name="token" value="" placeholder="Auth Token"></p>
				<p class="submit"><input style="width: 200px; height: 30px;" type="submit" name="commit" value="Login"></p>
				</form>
				<br/>
				<p>Developed by <a href="https://github.com/Speentie8081" target="_blank">SkorrloreGaming (Speentie)</a></p>
			</div>
			</center>
		</div>
		<div id="perform" name="perform" style="display: none;">
			<div style="background-color: white; padding-left: 5px; padding-right: 5px; padding-top: 5px; padding-bottom: 5px;" id="connection" name="connection">
				<center style="padding-top: 15px;">
					<a href="/">Disconnect</a> / <a href="#" onclick="document.getElementById('messageHistory').innerHTML = ''; return false;">Clear History</a>
				</center>
				<div id="messageHistory" name="messageHistory" style="width: 95%; padding-left: 10px; word-wrap: normal; overflow: hidden; padding-right: 10px; padding-top: 5px; padding-bottom: 5px;">
					<pre>Connecting..</pre>
				</div>
				<div id="controls" name="controls">
					<center>
						<form action="return javascript.void(0);" autocomplete="off">
							<input style="width: 95%; border-radius: 5px;" type="text" id="messageBox" name="messageBox" onkeydown="return keypress(event);">
						</form>
					</center>
				</div>
			</div>
		</div>
	</body>
</html>